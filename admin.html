<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Admin Portal</title>
<style>
body { font-family: Arial; padding: 20px; }
.card { padding:15px; border:1px solid #ccc; margin:10px 0; border-radius:8px; }
</style>
<script>
let data=[];

async function loadNews(){
    let res = await fetch("data.json");
    data = await res.json();
    render();
}

function render(){
    let wrap=document.getElementById("wrap");
    wrap.innerHTML="";
    data.forEach((b,i)=>{
        wrap.innerHTML+=`
        <div class='card'>
            <h3>${b.judul}</h3>
            <p>${b.isi}</p>
            <button onclick='del(${i})'>Hapus</button>
        </div>`;
    });
}

function addNews(){
    let j=document.getElementById("judul").value;
    let i=document.getElementById("isi").value;
    if(!j||!i){ alert("Isi semua!"); return;}
    data.push({judul:j,isi:i});
    render();
}

function del(x){
    data.splice(x,1);
    render();
}

function saveJSON(){
    let blob = new Blob([JSON.stringify(data,null,2)],{type:"application/json"});
    let a=document.createElement("a");
    a.href=URL.createObjectURL(blob);
    a.download="data.json";
    a.click();
}
window.onload=loadNews;
</script>
</head>
<body>
<h1>Admin Panel</h1>
<a href="index.html">Kembali ke Publik</a>
<hr>

<input id="judul" placeholder="Judul"><br><br>
<textarea id="isi" placeholder="Isi"></textarea><br><br>
<button onclick="addNews()">Tambah Berita</button>
<button onclick="saveJSON()">Simpan Perubahan</button>

<hr>
<div id="wrap"></div>
</body>
</html>
